{"id":"0233eec84a8a04fd6738ab6f2017430c","js":"var irobi_res;\nvar item;\n\n\n(function(irobi_res){ if(irobi_res){   $engine.scheduledSubscribe(irobi_res, 'touch_sensor_event', 'std_msgs/UInt32', function(item){   if (item['data'] == 5) {\n      $engine.scheduledPublish(irobi_res, \"play_tts\", \"std_msgs/String\", ({\"data\":'오른쪽입니다.'}));} else if (item['data'] == 4) {\n      $engine.scheduledPublish(irobi_res, \"play_tts\", \"std_msgs/String\", ({\"data\":'왼쪽입니다.'}));}\n   });$engine.subscribe('send_action', 'std_msgs/String', function(item){   setTimeout(function(){ Fiber(function(){  if (item['data'] == 'happy') {\n        $engine.scheduledPublish(irobi_res, \"face_expression\", \"std_msgs/UInt32\", ({\"data\":1}));$engine.scheduledPublish(irobi_res, \"easy_move_head\", \"std_msgs/Int32\", ({\"data\":3}));$engine.sleep(5000);$engine.scheduledPublish(irobi_res, \"face_expression\", \"std_msgs/UInt32\", ({\"data\":3}));$engine.scheduledPublish(irobi_res, \"easy_move_head\", \"std_msgs/Int32\", ({\"data\":16}));} else if (item['data'] == 'surprise') {\n        $engine.scheduledPublish(irobi_res, \"face_expression\", \"std_msgs/UInt32\", ({\"data\":2}));$engine.scheduledPublish(irobi_res, \"easy_move_arm\", \"std_msgs/Int32\", ({\"data\":8}));$engine.sleep(5000);$engine.scheduledPublish(irobi_res, \"face_expression\", \"std_msgs/UInt32\", ({\"data\":3}));$engine.scheduledPublish(irobi_res, \"easy_move_arm\", \"std_msgs/Int32\", ({\"data\":10}));} else if (item['data'] == 'good') {\n        $engine.scheduledPublish(irobi_res, \"play_tts\", \"std_msgs/String\", ({\"data\":'와~ 잘했어.'}));} else if (item['data'] == 'cheer') {\n        $engine.scheduledPublish(irobi_res, \"play_tts\", \"std_msgs/String\", ({\"data\":'다음엔 더 잘할 수 있을꺼야'}));} else if (item['data'] == 'congratulation') {\n        $engine.scheduledPublish(irobi_res, \"face_expression\", \"std_msgs/UInt32\", ({\"data\":1}));$engine.scheduledPublish(irobi_res, \"play_tts\", \"std_msgs/String\", ({\"data\":'축하해'}));$engine.sleep(5000);$engine.scheduledPublish(irobi_res, \"face_expression\", \"std_msgs/UInt32\", ({\"data\":3}));} else if (item['data'] == 'exercise') {\n        $engine.scheduledPublish(irobi_res, \"play_tts\", \"std_msgs/String\", ({\"data\":'연습이니 너무 긴장하지 말길바래'}));} else if (item['data'] == 'greeting') {\n        $engine.scheduledPublish(irobi_res, \"play_tts\", \"std_msgs/String\", ({\"data\":'안녕 반가워. 우리 함께 잘해보자'}));$engine.scheduledPublish(irobi_res, \"easy_move_arm\", \"std_msgs/Int32\", ({\"data\":0}));$engine.sleep(5000);$engine.scheduledPublish(irobi_res, \"easy_move_arm\", \"std_msgs/Int32\", ({\"data\":10}));} else if (item['data'] == 'train') {\n        $engine.scheduledPublish(irobi_res, \"play_tts\", \"std_msgs/String\", ({\"data\":'이제 본게임이네. 파이팅! 잘 할수 있을꺼야'}));} else if (item['data'] == 'bye') {\n        $engine.scheduledPublish(irobi_res, \"play_tts\", \"std_msgs/String\", ({\"data\":'다음에 또 봐'}));}\n    }).run(); }, 0); }); }else{ } })($engine.allocateResource(\"robosem_bridge/robosem_bridge\", \"rocon:/pc\", [{\"remap_from\":\"play_tts\",\"remap_to\":\"/play_tts\"},{\"remap_from\":\"robot_motion\",\"remap_to\":\"/robot_motion\"},{\"remap_from\":\"touch_sensor_event\",\"remap_to\":\"/touch_sensor_event\"},{\"remap_from\":\"face_expression\",\"remap_to\":\"/face_expression\"},{\"remap_from\":\"easy_move_arm\",\"remap_to\":\"/easy_move_arm\"},{\"remap_from\":\"easy_move_head\",\"remap_to\":\"/easy_move_head\"}], [{\"key\":\"robosem_ip\",\"value\":\"192.168.10.146\"}], {\"timeout\":\"1500000000\",\"type\":\"static\"}));","xml":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"ros_requester_allocate_with_block\" id=\"1342\" x=\"85\" y=\"-331\"><mutation extra_config=\"{&quot;timeout&quot;:&quot;1500000000&quot;,&quot;remappings&quot;:[{&quot;remap_from&quot;:&quot;play_tts&quot;,&quot;remap_to&quot;:&quot;/play_tts&quot;},{&quot;remap_from&quot;:&quot;robot_motion&quot;,&quot;remap_to&quot;:&quot;/robot_motion&quot;},{&quot;remap_from&quot;:&quot;touch_sensor_event&quot;,&quot;remap_to&quot;:&quot;/touch_sensor_event&quot;},{&quot;remap_from&quot;:&quot;face_expression&quot;,&quot;remap_to&quot;:&quot;/face_expression&quot;},{&quot;remap_from&quot;:&quot;easy_move_arm&quot;,&quot;remap_to&quot;:&quot;/easy_move_arm&quot;},{&quot;remap_from&quot;:&quot;easy_move_head&quot;,&quot;remap_to&quot;:&quot;/easy_move_head&quot;}],&quot;parameters&quot;:[{&quot;key&quot;:&quot;robosem_ip&quot;,&quot;value&quot;:&quot;192.168.10.146&quot;}],&quot;rapp&quot;:&quot;robosem_bridge/robosem_bridge&quot;,&quot;uri&quot;:&quot;rocon:/pc&quot;}\"></mutation><field name=\"TYPE\">static</field><field name=\"ON_SUCCESS_PARAM\">irobi_res</field><statement name=\"ON_SUCCESS\"><block type=\"ros_scheduled_subscribe_touch_sensor_event\" id=\"1343\" inline=\"true\"><mutation></mutation><field name=\"DO_PARAM\">item</field><value name=\"CTX\"><block type=\"variables_get\" id=\"1344\"><field name=\"VAR\">irobi_res</field></block></value><statement name=\"DO\"><block type=\"controls_if\" id=\"1345\" inline=\"false\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"1346\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"1347\"><field name=\"VAR\">item</field><field name=\"KEY\">data</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"1348\"><field name=\"NUM\">5</field></block></value></block></value><statement name=\"DO0\"><block type=\"ros_scheduled_publish_play_tts\" id=\"1349\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1350\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-String\" id=\"1351\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"text\" id=\"1352\"><field name=\"TEXT\">오른쪽입니다.</field></block></value></block></value></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"1353\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"1354\"><field name=\"VAR\">item</field><field name=\"KEY\">data</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"1355\"><field name=\"NUM\">4</field></block></value></block></value><statement name=\"DO1\"><block type=\"ros_scheduled_publish_play_tts\" id=\"1356\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1357\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-String\" id=\"1358\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"text\" id=\"1359\"><field name=\"TEXT\">왼쪽입니다.</field></block></value></block></value></block></statement></block></statement><next><block type=\"ros_subscribe_send_action\" id=\"1876\"><mutation extra=\"{&quot;client_app_name&quot;:&quot;com.UnityPlayerNativeActivity&quot;}\"></mutation><field name=\"DO_PARAM\">item</field><statement name=\"DO\"><block type=\"defer\" id=\"1363\"><statement name=\"DO\"><block type=\"controls_if\" id=\"1364\" inline=\"false\"><mutation elseif=\"8\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"1365\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"1366\"><field name=\"VAR\">item</field><field name=\"KEY\">data</field></block></value><value name=\"B\"><block type=\"text\" id=\"1367\"><field name=\"TEXT\">happy</field></block></value></block></value><statement name=\"DO0\"><block type=\"ros_scheduled_publish_face_expression\" id=\"1368\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1369\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-UInt32\" id=\"1370\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"math_number\" id=\"1371\"><field name=\"NUM\">1</field></block></value></block></value><next><block type=\"ros_scheduled_publish_easy_move_head\" id=\"1372\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1373\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-Int32\" id=\"1374\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"math_number\" id=\"1375\"><field name=\"NUM\">3</field></block></value></block></value><next><block type=\"action_sleep\" id=\"1877\" inline=\"false\"><value name=\"VALUE\"><block type=\"math_number\" id=\"1878\"><field name=\"NUM\">5000</field></block></value><next><block type=\"ros_scheduled_publish_face_expression\" id=\"1879\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1880\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-UInt32\" id=\"1881\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"math_number\" id=\"1882\"><field name=\"NUM\">3</field></block></value></block></value><next><block type=\"ros_scheduled_publish_easy_move_head\" id=\"1883\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1884\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-Int32\" id=\"1885\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"math_number\" id=\"1886\"><field name=\"NUM\">16</field></block></value></block></value></block></next></block></next></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"1376\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"1377\"><field name=\"VAR\">item</field><field name=\"KEY\">data</field></block></value><value name=\"B\"><block type=\"text\" id=\"1378\"><field name=\"TEXT\">surprise</field></block></value></block></value><statement name=\"DO1\"><block type=\"ros_scheduled_publish_face_expression\" id=\"1887\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1888\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-UInt32\" id=\"1889\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"math_number\" id=\"1890\"><field name=\"NUM\">2</field></block></value></block></value><next><block type=\"ros_scheduled_publish_easy_move_arm\" id=\"1383\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1384\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-Int32\" id=\"1385\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"math_number\" id=\"1386\"><field name=\"NUM\">8</field></block></value></block></value><next><block type=\"action_sleep\" id=\"1387\" inline=\"false\"><value name=\"VALUE\"><block type=\"math_number\" id=\"1388\"><field name=\"NUM\">5000</field></block></value><next><block type=\"ros_scheduled_publish_face_expression\" id=\"1891\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1892\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-UInt32\" id=\"1893\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"math_number\" id=\"1894\"><field name=\"NUM\">3</field></block></value></block></value><next><block type=\"ros_scheduled_publish_easy_move_arm\" id=\"1389\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1390\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-Int32\" id=\"1391\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"math_number\" id=\"1392\"><field name=\"NUM\">10</field></block></value></block></value></block></next></block></next></block></next></block></next></block></statement><value name=\"IF2\"><block type=\"logic_compare\" id=\"1393\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"1394\"><field name=\"VAR\">item</field><field name=\"KEY\">data</field></block></value><value name=\"B\"><block type=\"text\" id=\"1395\"><field name=\"TEXT\">good</field></block></value></block></value><statement name=\"DO2\"><block type=\"ros_scheduled_publish_play_tts\" id=\"1396\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1397\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-String\" id=\"1398\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"text\" id=\"1399\"><field name=\"TEXT\">와~ 잘했어.</field></block></value></block></value></block></statement><value name=\"IF3\"><block type=\"logic_compare\" id=\"1400\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"1401\"><field name=\"VAR\">item</field><field name=\"KEY\">data</field></block></value><value name=\"B\"><block type=\"text\" id=\"1402\"><field name=\"TEXT\">cheer</field></block></value></block></value><statement name=\"DO3\"><block type=\"ros_scheduled_publish_play_tts\" id=\"1403\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1404\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-String\" id=\"1405\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"text\" id=\"1406\"><field name=\"TEXT\">다음엔 더 잘할 수 있을꺼야</field></block></value></block></value></block></statement><value name=\"IF4\"><block type=\"logic_compare\" id=\"1407\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"1408\"><field name=\"VAR\">item</field><field name=\"KEY\">data</field></block></value><value name=\"B\"><block type=\"text\" id=\"1409\"><field name=\"TEXT\">congratulation</field></block></value></block></value><statement name=\"DO4\"><block type=\"ros_scheduled_publish_face_expression\" id=\"1899\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1900\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-UInt32\" id=\"1901\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"math_number\" id=\"1902\"><field name=\"NUM\">1</field></block></value></block></value><next><block type=\"ros_scheduled_publish_play_tts\" id=\"1895\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1896\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-String\" id=\"1897\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"text\" id=\"1898\"><field name=\"TEXT\">축하해</field></block></value></block></value><next><block type=\"action_sleep\" id=\"1903\" inline=\"false\"><value name=\"VALUE\"><block type=\"math_number\" id=\"1904\"><field name=\"NUM\">5000</field></block></value><next><block type=\"ros_scheduled_publish_face_expression\" id=\"1905\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1906\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-UInt32\" id=\"1907\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"math_number\" id=\"1908\"><field name=\"NUM\">3</field></block></value></block></value></block></next></block></next></block></next></block></statement><value name=\"IF5\"><block type=\"logic_compare\" id=\"1410\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"1411\"><field name=\"VAR\">item</field><field name=\"KEY\">data</field></block></value><value name=\"B\"><block type=\"text\" id=\"1412\"><field name=\"TEXT\">exercise</field></block></value></block></value><statement name=\"DO5\"><block type=\"ros_scheduled_publish_play_tts\" id=\"1909\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1910\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-String\" id=\"1911\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"text\" id=\"1912\"><field name=\"TEXT\">연습이니 너무 긴장하지 말길바래</field></block></value></block></value></block></statement><value name=\"IF6\"><block type=\"logic_compare\" id=\"1416\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"1417\"><field name=\"VAR\">item</field><field name=\"KEY\">data</field></block></value><value name=\"B\"><block type=\"text\" id=\"1418\"><field name=\"TEXT\">greeting</field></block></value></block></value><statement name=\"DO6\"><block type=\"ros_scheduled_publish_play_tts\" id=\"1419\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1420\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-String\" id=\"1421\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"text\" id=\"1422\"><field name=\"TEXT\">안녕 반가워. 우리 함께 잘해보자</field></block></value></block></value><next><block type=\"ros_scheduled_publish_easy_move_arm\" id=\"1423\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1424\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-Int32\" id=\"1425\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"math_number\" id=\"1426\"><field name=\"NUM\">0</field></block></value></block></value><next><block type=\"action_sleep\" id=\"1917\" inline=\"false\"><value name=\"VALUE\"><block type=\"math_number\" id=\"1918\"><field name=\"NUM\">5000</field></block></value><next><block type=\"ros_scheduled_publish_easy_move_arm\" id=\"1919\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1920\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-Int32\" id=\"1921\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"math_number\" id=\"1922\"><field name=\"NUM\">10</field></block></value></block></value></block></next></block></next></block></next></block></statement><value name=\"IF7\"><block type=\"logic_compare\" id=\"1413\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"1414\"><field name=\"VAR\">item</field><field name=\"KEY\">data</field></block></value><value name=\"B\"><block type=\"text\" id=\"1415\"><field name=\"TEXT\">train</field></block></value></block></value><statement name=\"DO7\"><block type=\"ros_scheduled_publish_play_tts\" id=\"1913\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1914\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-String\" id=\"1915\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"text\" id=\"1916\"><field name=\"TEXT\">이제 본게임이네. 파이팅! 잘 할수 있을꺼야</field></block></value></block></value></block></statement><value name=\"IF8\"><block type=\"logic_compare\" id=\"1427\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"1428\"><field name=\"VAR\">item</field><field name=\"KEY\">data</field></block></value><value name=\"B\"><block type=\"text\" id=\"1429\"><field name=\"TEXT\">bye</field></block></value></block></value><statement name=\"DO8\"><block type=\"ros_scheduled_publish_play_tts\" id=\"1923\" inline=\"true\"><mutation></mutation><value name=\"CTX\"><block type=\"variables_get\" id=\"1924\"><field name=\"VAR\">irobi_res</field></block></value><value name=\"VALUE\"><block type=\"ros_msg_std_msgs-String\" id=\"1925\" inline=\"false\"><mutation></mutation><value name=\"DATA\"><block type=\"text\" id=\"1926\"><field name=\"TEXT\">다음에 또 봐</field></block></value></block></value></block></statement></block></statement></block></statement></block></next></block></statement></block></xml>","title":"training_contents_wf","description":"Service Description","created_at":1427158801579}